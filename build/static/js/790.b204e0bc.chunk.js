"use strict";(self.webpackChunkwhalewatch_3d_visualization=self.webpackChunkwhalewatch_3d_visualization||[]).push([[790],{790:(t,e,a)=>{a.r(e),a.d(e,{default:()=>u});var r=a(43),n=a(957),s=a(951),i=a(585),o=a(408),c=a(579);const l=t=>{let{data:e,config:a,index:l}=t;const h=(0,r.useRef)(),[d,m]=r.useState(!1),u=Math.max(.5,Math.min(3,e.value_btc/a.threshold)),p=Math.min(1,e.value_btc/(2*a.threshold)),x=(new o.Q1f).setHSL(.6-.3*p,.8,.5+.3*p),j=.5*l,y=5+.3*l,g=Math.cos(j)*y,f=Math.sin(j)*y,M=.5*-l;return(0,n.F)(t=>{h.current&&(h.current.position.y=f+.5*Math.sin(t.clock.elapsedTime+l),h.current.rotation.x=.1*Math.sin(.5*t.clock.elapsedTime),h.current.rotation.z=.1*Math.cos(.3*t.clock.elapsedTime),d?h.current.scale.setScalar(1.2):h.current.scale.setScalar(1))}),(0,c.jsxs)("group",{position:[g,f,M],children:[(0,c.jsx)(i.iy,{ref:h,args:[u,16,16],onPointerOver:()=>m(!0),onPointerOut:()=>m(!1),children:(0,c.jsx)("meshStandardMaterial",{color:x,transparent:!0,opacity:.8,emissive:x,emissiveIntensity:d?.3:.1})}),d&&(0,c.jsx)(s.E,{position:[0,u+.5,0],fontSize:.3,color:"white",anchorX:"center",anchorY:"middle",children:"".concat(e.value_btc.toFixed(2)," BTC")})]})},h=t=>{let{blockData:e}=t;const a=(0,r.useRef)();return(0,n.F)(t=>{a.current&&(a.current.rotation.y=.1*t.clock.elapsedTime)}),(0,c.jsx)("group",{ref:a,position:[0,0,-10],children:e.map((t,a)=>{const r=a/e.length*Math.PI*2,n=8*Math.cos(r),s=8*Math.sin(r);return(0,c.jsxs)("group",{position:[n,0,s],children:[(0,c.jsx)(i.az,{args:[1,1,1],position:[0,0,0],children:(0,c.jsx)("meshStandardMaterial",{color:"#4CAF50",transparent:!0,opacity:.7,emissive:"#4CAF50",emissiveIntensity:.2})}),a<e.length-1&&(0,c.jsx)(i.T,{args:[.05,.05,6.4],position:[.4*n,0,.4*s],rotation:[0,0,Math.atan2(s,n)],children:(0,c.jsx)("meshStandardMaterial",{color:"#2196F3",transparent:!0,opacity:.3})})]},a)})})},d=t=>{let{summaryData:e}=t;const a=(0,r.useRef)();return(0,n.F)(t=>{a.current&&e&&a.current.children.forEach((t,e)=>{t.position.y+=.02,t.position.y>10&&(t.position.y=-10)})}),e?(0,c.jsx)("group",{ref:a,position:[0,0,5],children:Array.from({length:20},(t,e)=>(0,c.jsx)(i.iy,{args:[.1,8,8],position:[10*(Math.random()-.5),20*(Math.random()-.5),5*(Math.random()-.5)],children:(0,c.jsx)("meshStandardMaterial",{color:"#64B5F6",transparent:!0,opacity:.6,emissive:"#64B5F6",emissiveIntensity:.3})},e))}):null},m=t=>{let{whaleData:e,summaryData:a}=t;const l=(0,r.useRef)();(0,n.F)(t=>{l.current&&(l.current.rotation.y=.2*t.clock.elapsedTime,l.current.rotation.x=.1*Math.sin(.5*t.clock.elapsedTime))});const h=e.length,d=(null===a||void 0===a?void 0:a.total_btc)||0;return(0,c.jsxs)("group",{ref:l,position:[0,0,0],children:[(0,c.jsx)(i.iy,{args:[2,32,32],children:(0,c.jsx)("meshStandardMaterial",{color:"#FF9800",transparent:!0,opacity:.8,emissive:"#FF9800",emissiveIntensity:.3})}),(0,c.jsx)(s.E,{position:[0,3,0],fontSize:.5,color:"white",anchorX:"center",anchorY:"middle",children:"".concat(h," Whales")}),(0,c.jsx)(s.E,{position:[0,-3,0],fontSize:.4,color:"white",anchorX:"center",anchorY:"middle",children:"".concat(d.toFixed(1)," BTC")}),Array.from({length:3},(t,e)=>(0,c.jsxs)("mesh",{position:[0,0,0],children:[(0,c.jsx)("ringGeometry",{args:[2.5+.5*e,2.6+.5*e,32]}),(0,c.jsx)("meshStandardMaterial",{color:"#2196F3",transparent:!0,opacity:.3-.1*e,side:o.$EB})]},e))]})},u=t=>{let{whaleData:e,summaryData:a,blockData:r,config:n}=t;return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(m,{whaleData:e,summaryData:a}),e.map((t,e)=>(0,c.jsx)(l,{data:t,config:n,index:e},"".concat(t.hash,"-").concat(t.timestamp))),(0,c.jsx)(h,{blockData:r}),(0,c.jsx)(d,{summaryData:a}),(0,c.jsx)("fog",{attach:"fog",args:["#0a1943",10,50]})]})}}}]);
//# sourceMappingURL=790.b204e0bc.chunk.js.map